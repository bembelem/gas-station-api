# Gas Station API

Backend API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ–∑–∞–ø—Ä–∞–≤–æ—á–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π.  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **FastAPI** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL** –∏ **SQLAlchemy**.

API –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–æ–º, –ù–ü–ó, –ê–ó–°, –∫–ª–∏–µ–Ω—Ç–∞–º–∏, —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–∞–º–∏, –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ—Ç—á—ë—Ç–∞–º–∏.

---

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ `uv`):

    uv sync

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ pip):

    pip install -r requirements.txt


## 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL

–°–æ–∑–¥–∞–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —É–∫–∞–∂–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
(—á–µ—Ä–µ–∑ .env –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SQLAlchemy).

## 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã –∏ seed-–¥–∞–Ω–Ω—ã–µ.

def init_db():
    from database.main import init_db_psycopg
    init_db_psycopg()


–§—É–Ω–∫—Ü–∏—è:

—É–¥–∞–ª—è–µ—Ç —Å—Ö–µ–º—É public

—Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –∏–∑ schema.sql

–Ω–∞–ø–æ–ª–Ω—è–µ—Ç –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python src/main.py


–∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ uvicorn:

uvicorn backend.main:app --reload


–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

http://127.0.0.1:8000

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

Swagger UI:

http://127.0.0.1:8000/docs

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ API
Fuel Types

CRUD –¥–ª—è –≤–∏–¥–æ–≤ —Ç–æ–ø–ª–∏–≤–∞

–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É

Refineries

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ù–ü–ó

–ê–¥—Ä–µ—Å–∞ –∏ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä—ã

Stations

–ê–ó–° –∏ –∏—Ö —Ä–µ–∑–µ—Ä–≤—É–∞—Ä—ã

–û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–ø–ª–∏–≤–∞

Customers

–ö–ª–∏–µ–Ω—Ç—ã

–ë–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã –∏ —É—Ä–æ–≤–Ω–∏ (tiers)

Services

–ü–æ–∫—É–ø–∫–∞ —Ç–æ–ø–ª–∏–≤–∞

–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤

–£—á—ë—Ç –ø—Ä–æ–¥–∞–∂

–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:

üîª –ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–ª–∏–≤–∞ –Ω–∞ –ê–ó–°

üìâ –î–µ—Ñ–∏—Ü–∏—Ç —Ç–æ–ø–ª–∏–≤–∞

‚è± –ü–æ—á–∞—Å–æ–≤—ã–µ –ø—Ä–æ–¥–∞–∂–∏

üë• –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º

üöö –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

üèÜ –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–¥–∞–∂ —Ç–æ–ø–ª–∏–≤–∞

üß™ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—ã—Ä—å—è

üîó –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫

### –ü—Ä–∏–º–µ—Ä:

GET /api/query/low-fuel
GET /api/query/fuel-deficit
GET /api/query/hourly-sales
